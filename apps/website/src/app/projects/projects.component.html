<section>
  <!-- <h4 class="nav-sub-title">/ projects i ps i</h4> -->
  <h2 class="section-title">
    Projects I'm involved in
    <br />
    <p class="section-subtitle">I've been working on various projects since 2014.</p>
  </h2>

  <div nz-row nzGutter="20" class="projects-list">
    <ng-container *ngFor="let project of projects">
      <a
        *ngIf="!project.slug.startsWith('http')"
        [routerLink]="project.slug"
        nz-col
        nzSpan="24"
        nzSm="12"
        nzLg="8"
        class="project-item"
      >
        <ng-container
          *ngTemplateOutlet="projectTemplate; context: { project: project }"
        ></ng-container>
      </a>
      <a
        *ngIf="project.slug.startsWith('http')"
        [href]="project.slug"
        target="_blank"
        nz-col
        nzSpan="24"
        nzSm="12"
        nzLg="8"
        class="project-item"
      >
        <ng-container
          *ngTemplateOutlet="projectTemplate; context: { project: project }"
        ></ng-container>
      </a>
    </ng-container>

    <ng-template #projectTemplate let-project="project">
      <div class="project-content">
        <div nz-row>
          <h3 nz-col nzSpan="12" class="project-title">
            {{ project.title }}
            <img *ngIf="project?.icon" [src]="project?.icon" />
            <span class="sub-title" *ngIf="project.subTitle">{{
              project.subTitle
            }}</span>
            <span class="sub-title" *ngIf="project.details">{{
              project.details
            }}</span>
          </h3>
          <img
            nz-col
            nzSpan="12"
            *ngIf="project?.image"
            [src]="project?.image || 'assets/img-placeholder.png'"
          />
        </div>
        <p class="project-extra">{{ project.role }}</p>
        <i class="right-icon" nz-icon nzType="right" nzTheme="outline"></i>
      </div>
    </ng-template>
  </div>
</section>
